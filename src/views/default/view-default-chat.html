<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../../bower_components/chaturbate-controller/chaturbate-controller.html">
<link rel="import" href="../../../bower_components/chaturbate-chat/chaturbate-chat.html">

<dom-module id="view-default-chat">
  <template>
    <style>
      :host {
        display: block;
        padding: 10px;
      }

      paper-spinner {
        width: 50px;
        height: 50px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        --paper-spinner-stroke-width: 6px;
        --paper-spinner-color: var(--google-red-500);
      }

      chaturbate-chat {
        position: absolute;
        left: 8px;
        bottom: 8px;
        right: 8px;
        top: 8px;
        --cb-chat-delim-mixin: {
          display: none;
        }
      }
    </style>

    <chaturbate-controller 
        username="[[subrouteData.username]]"
        ready="{{ready}}"
        chat="{{chat}}"
        max-chat-length="3">
    </chaturbate-controller>

    <paper-spinner active$="{{!ready}}"></paper-spinner>
    <chaturbate-chat items="{{chat}}"></chaturbate-chat>
  </template>

  <script>
    class ViewDefaultChat extends Polymer.Element {
      static get is() { return 'view-default-chat'; }

      static get properties() {
        return {
          subrouteData: Object,
        };
      }
    }

    window.customElements.define(ViewDefaultChat.is, ViewDefaultChat);
  </script>
</dom-module>
